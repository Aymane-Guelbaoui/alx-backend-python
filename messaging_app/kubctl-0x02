#!/bin/bash
# Blue-Green deployment switch script

echo "ðŸ”µ Deploying BLUE version..."
kubectl apply -f blue_deployment.yaml

echo "ðŸŸ¢ Deploying GREEN version..."
kubectl apply -f green_deployment.yaml

echo "ðŸ“Š Switching service to GREEN..."
kubectl patch service messaging-app-service -p '{"spec":{"selector":{"app":"messaging-app-green"}}}'

echo "ðŸ“œ Checking logs for GREEN pods..."
kubectl logs -l app=messaging-app-green
