#!/bin/bash
# Rolling update script

echo "ğŸš€ Applying rolling update..."
kubectl apply -f blue_deployment.yaml

echo "â³ Monitoring rollout..."
kubectl rollout status deployment/messaging-app-blue

echo "ğŸŒ Testing app for downtime..."
while true; do
  curl -s -o /dev/null -w "%{http_code}\n" http://$(minikube ip):8000/
  sleep 2
done
